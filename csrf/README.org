#+TITLE:README

This repo is a demonstration of cross-site request forgery (CSRF).
As such it is unsafe and should only be used for demonstration purposes.

* How to run

Add the following to `/etc/hosts`.
(Or use a sandboxed browser like firejail to specify a custom hosts file.)

`127.0.0.1 attacker.localhost defender.localhost sub.defender.localhost`

In this directory (web-attacks/csrf) run the following commands:-

- `cd attacker-backend`
- `npm i`
- `cd ../defender-backend`
- `npm i`
- `cd ..` (I.e. back into web-attacks/csrf.)
- `docker-compose build`
- `docker-compose up`

* Demonstrating the attack

** Attack with no protection

- Set a cookie for defender.localhost by navigating to 'http://defender.localhost/setCookie'.
- Note that in the Web Console that the cookie `defenderDevCookie` has SameSite set to none.
- Navigate to 'http://attacker.localhost/startAttack' and click submit to start the attack.
